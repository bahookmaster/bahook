$("body").on("click","#craete_about_btn",function(e){e.preventDefault();var a=$(this),t=a.attr("href");a.attr("title");$.ajax({url:t,dataType:"html",success:function(e){$("#create_about_body").html(e),$(".author").hide(),$(".translater").hide(),$(".designer").hide(),$(".authorCheckBox").bind("change",function(){$(this).is(":checked")?$(".author").slideDown():$(".author").slideUp()}),$(".translatersCheckBox").bind("change",function(){$(this).is(":checked")?$(".translater").slideDown():$(".translater").slideUp()}),$(".designerCheckBox").bind("change",function(){$(this).is(":checked")?$(".designer").slideDown():$(".designer").slideUp()})}}),$("#create_about_modal").modal("show")}),$("#about-save-btn").click(function(e){e.preventDefault();var a=$("#create_about_modal form"),t=a.attr("action"),n="POST";$("body").find("#alert").remove(),$.ajax({url:t,method:n,data:a.serialize(),success:function(e){"exist"==e?($("#craete_about_btn").before('<div style="text-align: center" class="alert alert-danger alert-dismissible" id="alert" role="alert"><button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button> متنی با این مشخصات قبلا ثبت شده؛ برای اصلاح اطلاعات میتوانید آن را ویرایش کنید.</div>'),$("#create_about_modal").modal("hide")):($("tbody").prepend(e),a.trigger("reset"))},error:function(e){}})}),$("body").on("click","#edit_about_btn",function(e){e.preventDefault();var a=$(this),t=a.attr("href");$.ajax({url:t,dataType:"html",success:function(e){$("#edit_about_body").html(e),$("#edit_about_modal").find(".authorCheckBox").attr("checked")?$(".author").show():$(".author").hide(),$("#edit_about_modal").find(".translatersCheckBox").attr("checked")?$(".translater").show():$(".translater").hide(),$("#edit_about_modal").find(".designerCheckBox").attr("checked")?$(".designer").show():$(".designer").hide(),$(".authorCheckBox").bind("change",function(){$(this).is(":checked")?$(".author").slideDown():$(".author").slideUp()}),$(".translatersCheckBox").bind("change",function(){$(this).is(":checked")?$(".translater").slideDown():$(".translater").slideUp()}),$(".designerCheckBox").bind("change",function(){$(this).is(":checked")?$(".designer").slideDown():$(".designer").slideUp()})}}),$("#edit_about_modal").modal("show")}),$("#about-edit-btn").click(function(e){e.preventDefault();var a=$("#edit_about_modal form"),t=a.attr("action"),n="PUT";$.ajax({url:t,method:n,data:a.serialize(),success:function(e){location.reload()}})}),$("body").on("click",".delete",function(e){e.preventDefault();var a=$(this).attr("href"),t=$("input[name = _token]").val(),n="DELETE";$("#confirm_modal").modal("show"),swal({title:"آیا از حذف این مورد اطمینان دارید؟",text:"توجه داشته باشید که با حذف ؛ امکان برگشت وجود ندارد",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"بله !",cancelButtonText:"خیر",closeOnConfirm:!1,closeOnCancel:!1},function(e){e?($.ajax({url:a,type:n,data:{_token:t},success:function(e){$(".product-"+e.id).fadeOut(function(){$(this).remove()})}}),swal("حذف شد!","اطلاعات با موفقیت حذف شد.","success")):swal("کنسل شد!","اطلاعات شما حذف نشد","error")})}),$("body").on("click","#create_menu_btn",function(e){e.preventDefault();var a=$(this),t=a.attr("href");$.ajax({url:t,dataType:"html",success:function(e){$("#admin_menu_body").html(e),$("#sub_menu_panel").hide(),$("#curent_sub_menu").hide()}}),$("#admin_menu_modal").modal("show")}),$("body").on("click","#admin_menu-save-btn",function(e){e.preventDefault();var a=$("#admin_menu_panel form"),t=a.attr("action"),n=a.attr("method");a.find(".help-block").remove(),a.find(".form-group").removeClass("has-error"),$.ajax({url:t,method:n,data:a.serialize(),success:function(e){$("#tbody").prepend(e);var t=$("#id").val(),n=$("#title_menu").val();$(".sidebar-menu").append('<li class="treeview"><a href="#"><span>'+n+'</span><i class="fa fa-angle-left pull-right"></i></a><ul class="treeview-menu"></ul></li>'),$("#menu_id").val(t),$("#admin_menu-save-btn").text("ویرایش منو").prop("id","admin_menu_update_btn"),a.prop("action",window.location.href+"/"+t).prop("method","PUT"),$("#sub_menu_panel").slideDown(),$("#curent_sub_menu").slideDown()},error:function(e){var a=e.responseJSON;0==$.isEmptyObject(a)&&$.each(a,function(e,a){$("#"+e).closest(".form-group").addClass("has-error").append('<span class="help-block">'+a+"</span>")})}})}),$("body").on("click","#save_sub_menu_btn",function(e){e.preventDefault();var a=$(this),t=a.attr("href"),n="POST",s=$("#sub_menu_name").val(),o=$("#sub_menu_link").val(),r=$("#menu_id").val(),i=($("#save_sub_menu_btn"),$("#admin_menu_panel form"));$("#title").val();i.find(".help-block").remove(),i.find(".form-group").removeClass("has-error"),$.ajax({url:t,method:n,data:{sub_menu_name:s,sub_menu_link:o,id:r},success:function(e){$("#sub_menu_tbody").prepend(e),$(".treeview-menu").append('<li><a href="'+o+'"><span>'+s+"</span></a></li>"),$("#sub_menu_name").val(""),$("#sub_menu_link").val("")},error:function(e){var a=e.responseJSON;0==$.isEmptyObject(a)&&$.each(a,function(e,a){$("#"+e).closest(".form-group").addClass("has-error").append('<span class="help-block">'+a+"</span>")})}})}),$("body").on("click","#admin_menu_update_btn",function(e){e.preventDefault();var a=$("#admin_menu_panel form"),t=a.attr("action"),n=a.attr("method"),s=$("#title").val(),o=$("#menu_id").val();$.ajax({url:t,method:n,data:{id:o,title:s},success:function(e){$(".product-"+o).replaceWith(e)}})}),$("body").on("click","#edit_admin_menu_btn",function(e){e.preventDefault();var a=$(this),t=a.attr("href");$("#menu_id").val();$.ajax({url:t,dataType:"html",success:function(e){$("#admin_menu_body").html(e)}}),$("#admin_menu_modal").modal("show")}),$("body").on("click","#update_sub_menu_btn",function(e){e.preventDefault();var a=$(this),t=a.attr("href"),n=($("#sub_menu_id").val(),"PUT");$.ajax({url:t,method:n,data:{id:$("#sub_menu_id").val(),sub_menu_name:$("#sub_menu_name").val(),sub_menu_link:$("#sub_menu_link").val()},success:function(e){$("#sub_menu_name").val(""),$("#sub_menu_link").val(""),$("#update_sub_menu_btn").text("ثبت زیر منو ی جدید").prop("title","ثبت زیر منو").prop("href",window.location.href+"/storeSubMenu").prop("id","save_sub_menu_btn"),$("#admin_menu_modal").find(".product-"+$("#sub_menu_id").val()).replaceWith(e)}})}),$("body").on("click","#edit_admin_sub_menu",function(e){e.preventDefault();var a=$(this),t=a.attr("href");$.ajax({url:t,method:"POST",dataType:"html",success:function(e){var a=JSON.parse(e);$("#sub_menu_name").val(a.title),$("#sub_menu_link").val(a.link),$("#sub_menu_id").val(a.id),save_sub_menu_btn=$("#save_sub_menu_btn"),save_sub_menu_btn.text("ویرایش زیر منو").prop("title","ویرایش زیر منو").prop("href",window.location.href+"/updateSubMenu/"+a.id).prop("id","update_sub_menu_btn")}})}),$("#password-confirm-btn").click(function(e){e.preventDefault();var a=$("#password-panel-body form"),t=a.attr("action"),n="POST";a.find(".help-block").remove(),a.find(".form-group").removeClass("has-error"),$.ajax({url:t,method:n,data:a.serialize(),success:function(e){$("#confirm-password-panel").replaceWith(e)},error:function(e){var a=e.responseJSON;0==$.isEmptyObject(a)&&$.each(a,function(e,a){$("#"+e).closest(".form-group").addClass("has-error").append('<span class="help-block">'+a+"</span>")})}})}),$("body").on("click","#edit-account-btn",function(e){e.preventDefault();var a=$(".account-edit form"),t=a.attr("action"),n=a.attr("method");a.find(".help-block").remove(),a.find(".form-group").removeClass("has-error"),a.find(".message #success-message").remove(),$.ajax({url:t,method:n,data:a.serialize(),success:function(e){$("#current-email").text(e.email),$("#email").val(""),$("#email_confirmation").val(""),$("#password").val(""),$(".message").html('<div id="success-message" style="text-align: center;font-size: 15px;" class="alert alert-success alert-dismissible" role="alert"><button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>اطلاعات با موفقیت ویرایش شد.</div>')},error:function(e){var a=e.responseJSON;0==$.isEmptyObject(a)&&$.each(a,function(e,a){$("#"+e).closest(".form-group").addClass("has-error").append('<span class="help-block">'+a+"</span>")})}})});