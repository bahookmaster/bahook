{"version":3,"sources":["moreInfo.js","colorPanel.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"product.js","sourcesContent":["\r\n$('#showMoreInfo-btn').click(function(){\r\n    if($('#showMoreInfo-btn i').hasClass('glyphicon-chevron-left')){\r\n        $('#showMoreInfo-btn i').removeClass('glyphicon-chevron-left').addClass('glyphicon-chevron-down');\r\n    }\r\n    else if($('#showMoreInfo-btn i').hasClass('glyphicon-chevron-down')){\r\n        $('#showMoreInfo-btn i').removeClass('glyphicon-chevron-down').addClass('glyphicon-chevron-left');\r\n    }\r\n});\r\n\r\n","$(document).ready(function(){\r\n    $('.color-panel').click(function(){\r\n        var productId = $(this).attr('data-productid'),\r\n            addTobasketBtn = $('body').find('.cart-toggler'),\r\n            priceWithTakhfif=$('.priceWithTakhfif'),\r\n            notAvailable=$(\".not-available\"),\r\n            deliveryCondition=$(\".delivery-condition\"),\r\n            productBasketBtn=$(\".product-basket-button\"),\r\n            attributeTick=$(\".attribute-tick-\"+productId);\r\n        console.log(attributeTick.css(\"visibility\"));\r\n        if(productId && attributeTick.css(\"visibility\")!==\"visible\"){\r\n            $.ajax({\r\n                url:\"/product/\"+productId+\"/changeAttributes\",\r\n                method : 'post',\r\n                success : function(data){\r\n                    $('#additionalProductInfo').html(data);\r\n                }\r\n            });\r\n/*\r\n            var zoomImage=$('#img_01');\r\n\r\n            $('.zoomContainer').remove();\r\n            zoomImage.removeData('elevateZoom');\r\n\r\n\r\n            $.ajax({\r\n                url:\"/product/\"+productId+\"/changeImage\",\r\n                method : 'post',\r\n                success : function(data){\r\n                    // console.log('changeImage');\r\n\r\n                    var gal= $(\".row-fluid\");\r\n                    gal.empty();\r\n\r\n                    zoomImage.attr('src', '/image/pic/new/'+productId+'/1/ok.jpg');\r\n                    zoomImage.data('zoom-image', '/image/pic/new/'+productId+'/1/ok.jpg');\r\n\r\n                    data.forEach(function (value) {\r\n                        console.log(value);\r\n                        gal.append(\r\n                            \"\" +\r\n                            \"<div class=\\\"span3\\\" style=\\\"display: inline-block\\\">\" +\r\n                            \"   <a style=\\\"float: right;padding: 1px ; cursor: pointer\\\"  class=\\\"thumbnail\\\" rel=\\\"gal1\\\"\" +\r\n                            \"   data-image='/\"+value.dirname+\"/\"+value.basename+\"' data-zoom-image='/\"+value.dirname+\"/ok.\"+value.extension+\"' >\" +\r\n                            \"       <img class=\\\"product-thumbnail-img\\\" id=\\\"img_01\\\" src='/\"+value.dirname+\"/\"+value.basename+\"' \" +\r\n                            \"           data-pagespeed-no-transform=\\\"\\\" alt=\\\"\\\">\" +\r\n                            \"   </a>\" +\r\n                            \"</div>\");\r\n                    });\r\n\r\n                    $('.thumbnail').on(\"click\",function () {\r\n\r\n                        $('.zoomContainer').remove();\r\n                        zoomImage.removeData('elevateZoom');\r\n                        // Update source for images\r\n                        zoomImage.attr('src', $(this).data('image'));\r\n                        zoomImage.data('zoom-image', $(this).data('zoom-image'));\r\n                        // Reinitialize EZ\r\n                        setTimeout(function(){\r\n                            $('#img_01').elevateZoom({\r\n                                zoomWindowFadeIn: 500,\r\n                                zoomWindowFadeOut: 750\r\n                            });\r\n                        },100);\r\n                    });\r\n\r\n                    setTimeout(function(){\r\n                        $('#img_01').elevateZoom({\r\n                            zoomWindowFadeIn: 500,\r\n                            zoomWindowFadeOut: 750\r\n                        });\r\n                    },100);\r\n\r\n                    // $('#bzoom_wrap_product').html(data);\r\n                }\r\n            });\r\n*/\r\n\r\n\r\n            $.ajax({\r\n                url : '/product/'+productId+'/isAvailable',\r\n                method : 'post',\r\n                success : function(data){\r\n                    console.log(data.notAvailable===1);\r\n                    //priceWithTakhfif.html(data);\r\n                    // $(\".not-available\").html(data);\r\n                    if(data.notAvailable===1){\r\n                        $.ajax({\r\n                            url : '/product/'+productId+'/changeTakhfif',\r\n                            method : 'post',\r\n                            success : function(data){\r\n                               priceWithTakhfif.html(data);\r\n                               priceWithTakhfif.css(\"display\",\"block\");\r\n                               deliveryCondition.css(\"display\",\"block\");\r\n                                productBasketBtn.css(\"display\",\"block\");\r\n                                notAvailable.html(\r\n                                    \"\"\r\n                                );\r\n                                // $(\".not-available\").html(data.available);\r\n                            }\r\n                        });\r\n\r\n                    }else if(data.notAvailable===-1){\r\n                        priceWithTakhfif.css(\"display\",\"none\");\r\n                        deliveryCondition.css(\"display\",\"none\");\r\n                        productBasketBtn.css(\"display\",\"none\");\r\n                        notAvailable.html(\r\n                            \"<h1> به زودی </h1>\"\r\n                        );\r\n                    }else{\r\n                        priceWithTakhfif.css(\"display\",\"none\");\r\n                        deliveryCondition.css(\"display\",\"none\");\r\n                        productBasketBtn.css(\"display\",\"none\");\r\n                        notAvailable.html(\r\n                            \"<h1> نا موجود </h1>\"\r\n                        );\r\n                    }\r\n                }\r\n            });\r\n\r\n            $(\".attribute-tick\").css('visibility','hidden');\r\n            attributeTick.css('visibility','visible');\r\n            addTobasketBtn.prop('href', '/models/add-to-bag?id='+productId);\r\n\r\n            //change color icon or other attribute in linked_attribute section\r\n            var selectedAttribute= $(\".linked-attribute-\"+productId);\r\n            var otherAttribute=\"\";\r\n            selectedAttribute.each(function () {\r\n                otherAttribute+=$(this).prop('outerHTML');\r\n            });\r\n            // console.log(otherAttribute);\r\n            $(\".other-attribute-selected\").html(otherAttribute)\r\n        }\r\n\r\n\r\n        // if(checkIcone.children().length > 0){\r\n        //     //no thing\r\n        // }\r\n        // else{\r\n            // $(\".attribute-tick\").css('visibility','hidden');\r\n            // $(\".attribute-tick-\"+productId).css('visibility','visible');\r\n            // //change defualt color\r\n            // $('.color-panel').find('#product-color').children().remove();\r\n            // checkIcone.append('<i style=\"color: white;font-size: 12px;margin-right: 3px;\" class=\"fa fa-check\" aria-hidden=\"true\"></i>');\r\n\r\n            // $('.other-color-div').html('<div class=\"col col-md-6\" style=\"padding-right: 0px\">'+\r\n            //     '<div style=\"width: 20px; height: 20px; background-color: '+colorCode+'; border-radius: 50%; margin-top: 10px;\"  id=\"product-color\">'+\r\n            //     '<i style=\"color: white;font-size: 12px;margin-right: 3px;\" class=\"fa fa-check\" aria-hidden=\"true\"></i>'+\r\n            //     '</div><span  style=\"position: relative; top: -20px; font-size: 12px; margin-right: 25px;\"  data-colorCode=\"'+colorCode+'\" data-colorName=\"'+colorName+'\" data-productId=\"'+productId+'\" id=\"color-panel-'+id+'\" style=\"position: relative; top: -20px; margin-right: 25px; cursor: pointer\">'+colorName+'</span>'+\r\n            //     '</div><div class=\"col col-md-6\"><span style=\"cursor: pointer\" class=\"show-other-color\" data-toggle=\"tooltip\" data-placement=\"top\" >'+\r\n            //     '<button style=\"font-size: 9px; height: 25px; margin-left: 8px; margin-top: 9px; background-color: #0B3750; color: #febe1b;\" class=\"btn\">تغییر رنگ</button></span></div>');\r\n            // $('#img_01, .product-thumbnail-img').prop('src','/image/pic/new/'+productImage+'/1/md.jpg');\r\n            // $('#img_01').attr('data-zoom-image', '/image/pic/new/'+productImage+'/1/ok.jpg');\r\n            // $('.thumbnail').attr('data-image', '/image/pic/new/'+productImage+'/1/md.jpg').attr('data-zoom-image','/image/pic/new/'+productImage+'/1/ok.jpg');\r\n            // $('.zoomWindow').css('background-image','url(/image/pic/new/'+productImage+'/1/ok.jpg)');\r\n            // $('body').find('.fancybox-image').attr('src', '/image/pic/new/'+productImage+'/1/ok.jpg');\r\n            //\r\n            // $.ajax({\r\n            //     url:\"/product/\"+productId+\"/changeImage\",\r\n            //     method : 'GET',\r\n            //     success : function(data){\r\n            //         $('#bzoom_wrap').html(data);\r\n            //     }\r\n            // });\r\n\r\n\r\n        //     $('#img_01').elevateZoom({\r\n        //         zoomWindowFadeIn: 500,\r\n        //         zoomWindowFadeOut: 750\r\n        //     });\r\n        //\r\n            setTimeout(function(){\r\n                $('#other-color-modal').modal('hide');\r\n            }, 500);\r\n        // }\r\n    });\r\n    $('body').on('click' ,'.show-other-color', function (e) {\r\n        $('#other-color-modal').modal('show');\r\n    });\r\n\r\n});\r\n\r\n"]}