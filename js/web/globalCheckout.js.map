{"version":3,"sources":["orderSummary.js","checkout.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"globalCheckout.js","sourcesContent":["$(document).ready(function () {\r\n\r\n    // baad az scroll kholase sefaresh kami be bala montaghel shavad\r\n    $(window).scroll(function () {\r\n        // console.log('scrollTop-'+$(window).scrollTop());\r\n        // console.log('window-'+$(window).height());\r\n        // console.log('document-'+$(document).height());\r\n//                            $('#orderSummary').css('margin-top', -65);\r\n//                            $('#orderSummary').css({'margin-top': -65, 'transition-duration': '0.5s'});\r\n        $('#orderSummary').css({\r\n            'margin-top': 0,\r\n            'transition-duration': '0.2s'});\r\n        // $('#orderSummary').css({'margin-top': 0, 'transition-duration': '0.2s'});\r\n        if ($(document).scrollTop() >= 120) {\r\n            $('#orderSummary').css({\r\n//                                    'margin-top': -250,\r\n//                 'margin-top': -200,\r\n                'margin-top': -$(window).scrollTop(),\r\n                'transition-duration': '0.2s'\r\n            });\r\n\r\n            if( ($(window).scrollTop() + $(window).height()) >= $(document).height()) {\r\n                $('#orderSummary').css({\r\n                    // 'margin-top': '-500px',\r\n                    'margin-top': -180,\r\n                    'transition-duration': '0.2s' });\r\n            }\r\n            else{\r\n                $('#orderSummary').css({\r\n                    'margin-top': -180,\r\n//                     'margin-top': -$(window).scrollTop(),\r\n                    'transition-duration': '0.2s'});\r\n            }\r\n        }\r\n        else  {\r\n//                                $('#orderSummary').css({'margin-top': -65, 'transition-duration': '0.5s'});\r\n            $('#orderSummary').css({\r\n                // 'margin-top': 0,\r\n                'transition-duration': '0.2s'});\r\n        }\r\n    });\r\n\r\n    $('input[type=checkbox]').click(function () {\r\n        var prds = \"\";\r\n        $('input[name=\"relatedPrdCheckBox\"]:not(:checked)').each(function () {\r\n            if (prds.length > 0) {\r\n                prds = prds + \"-\" + this.value;\r\n            } else {\r\n                prds = this.value;\r\n            }\r\n        });\r\n        if (prds.length > 0) {\r\n            location.href = \"/checkout/?removalRelatedPrd=\" + prds;\r\n        } else {\r\n            location.href = \"/checkout/\";\r\n        }\r\n    });\r\n});","$(document).ready(function () {\r\n    var $inputs = $(\".discount-input\");\r\n    $inputs.keyup(function() {\r\n        $inputs.val($(this).val());\r\n    });\r\n    var spinner = $('#discount-spinner'),\r\n        resSpiner = $('#res-discount-spinner');\r\n    $('body').find(\"#offMessage\").html('');\r\n    $('body').find(\"#res-offMessage\").html('');\r\n    $('body').find('#orderSummary #discountOrder').click(function (e) {\r\n//            $('#summaryContainer #orderSummary').find('#discountOrder').click(function (e) {\r\n        e.preventDefault();\r\n        $('body').find(\"#offMessage\").html('');\r\n//                console.log('dddddd');\r\n        var code = $('#off').val(),\r\n            amount =$('body').find('#amount').val();\r\n\r\n//                console.log(code);\r\n//                console.log(amount);\r\n        if(code == '') code = 0;\r\n        jQuery.ajax({\r\n            type: \"POST\",\r\n            url: \"/checkout/discount/\"+code,\r\n            success: function (result) {\r\n//                        $(\"#offMessage\").html(result);\r\n                spinner.fadeIn(100);\r\n                resSpiner.fadeIn(100);\r\n                setTimeout( function() {\r\n                    spinner.fadeOut(100,function(){\r\n                        console.log(result);\r\n                        if(result.msg){\r\n//                                    $('body').find(\"#total-amount\").html((result.totalPayment) + 'تومان ');\r\n                            $('body').find(\"#total-amount\").html((result.totalPayment-result.value) + 'تومان ');\r\n                            $('body').find(\"#offMessage\").html(result.msg);\r\n                        }else{\r\n                            $('body').find(\"#offMessage\").html(result);\r\n                        }\r\n\r\n                    });\r\n                }, 1000 );\r\n                setTimeout( function() {\r\n                    resSpiner.fadeOut(100,function(){\r\n                        console.log(result);\r\n                        if(result.msg){\r\n//                                    $('body').find(\"#res-total-amount\").html((result.totalPayment) + 'تومان ');\r\n                            $('body').find(\"#res-total-amount\").html((result.totalPayment-result.value) + 'تومان ');\r\n                            $('body').find(\"#res-offMessage\").html(result.msg);\r\n                        }else{\r\n                            $('body').find(\"#res-offMessage\").html(result);\r\n                        }\r\n\r\n                    });\r\n                }, 1000 );\r\n            }\r\n        });\r\n        return false;\r\n    });\r\n\r\n    /////////////change bank icons//////////////\r\n    $('body').find('#orderSummary #melat-img,#orderSummary  #melat-span, #orderSummaryResponsive #melat-img , #orderSummaryResponsive #res-melat-span').click(function (e) {\r\n        e.preventDefault();\r\n        $('#payment-send-btn').text('  ثبت سفارش و پرداخت ');\r\n        $('.res-payment-send-btn').text('  ثبت سفارش و پرداخت ');\r\n        $('body').find('#orderSummary #melat-img >img, #orderSummaryResponsive #melat-img >img').attr('src', '/assets/img/new/melat.svg');\r\n        $('body').find('#orderSummary #saderat-img >img, #orderSummaryResponsive #saderat-img >img').attr('src', '/assets/img/new/saderat-gray.svg');\r\n        $('body').find('#orderSummary #parsian-img >img , #orderSummaryResponsive #parsian-img >img').attr('src', '/assets/img/new/parsian-gray.svg');\r\n        $('body').find('#orderSummary #melat-span >span , #orderSummaryResponsive #res-melat-span >span').css('color', '#0B3750');\r\n        $('body').find('#orderSummary #saderat-span >span, #orderSummary #parsian-span >span , #orderSummaryResponsive #sres-saderat-span >span, #orderSummaryResponsive #res-parsian-span >span').css('color', '#bbbaba');\r\n        var addressId = $('#orderSummary #address-id').val();\r\n        $.ajax({\r\n            url : '/checkout/updateOrder',\r\n            method : 'POST',\r\n            data : {\r\n                bankName : 'mellat',\r\n                addressId : addressId\r\n            },\r\n            success : function (data) {\r\n//                        console.log(data);\r\n            }\r\n        });\r\n\r\n    });\r\n\r\n    $('body').find('#orderSummary #saderat-img,#orderSummary #saderat-span, #orderSummaryResponsive #saderat-img, #orderSummaryResponsive res-saderat-span').click(function (e) {\r\n        e.preventDefault();\r\n        $('#payment-send-btn').text('  ثبت سفارش و پرداخت ');\r\n        $('body').find('#orderSummary #saderat-img >img , #orderSummaryResponsive #saderat-img >img').attr('src', '/assets/img/new/saderat.svg');\r\n        $('body').find('#orderSummary #melat-img >img, #orderSummaryResponsive #melat-img >img').attr('src', '/assets/img/new/melat-gray.svg');\r\n        $('body').find('#orderSummary #parsian-img >img, #orderSummaryResponsive #parsian-img >img').attr('src', '/assets/img/new/parsian-gray.svg');\r\n        $('body').find('#orderSummary #melat-span >span,  #orderSummary #parsian-span >span ,#orderSummaryResponsive #res-melat-span >span,  #orderSummaryResponsive #res-parsian-span >span').css('color', '#bbbaba');\r\n        $('body').find('#orderSummary #saderat-span >span, #orderSummaryResponsive #res-saderat-span >span').css('color', '#0B3750');\r\n        var addressId = $('#orderSummary #address-id').val();\r\n        $.ajax({\r\n            url : '/checkout/updateOrder',\r\n            method : 'POST',\r\n            data : {\r\n                bankName : 'saderat',\r\n                addressId : addressId\r\n            },\r\n            success : function (data) {\r\n//                        console.log(data);\r\n            }\r\n        });\r\n    });\r\n\r\n    $('body').find('#orderSummary #parsian-img,#orderSummary  #parsian-span, #orderSummaryResponsive #parsian-img,#orderSummaryResponsive  #parsian-span').click(function (e) {\r\n        e.preventDefault();\r\n        $('#payment-send-btn').text('  ثبت سفارش و پرداخت ');\r\n        $('body').find('#orderSummary #parsian-img >img, #orderSummaryResponsive #parsian-img >img').attr('src', '/assets/img/new/parsian.svg');\r\n        $('body').find('#orderSummary #saderat-img >img , #orderSummaryResponsive #saderat-img >img').attr('src', '/assets/img/new/saderat-gray.svg');\r\n        $('body').find('#orderSummary #melat-img >img, #orderSummaryResponsive #melat-img >img').attr('src', '/assets/img/new/melat-gray.svg');\r\n        $('body').find('#orderSummary #parsian-span >span , #orderSummaryResponsive #parsian-span >span').css('color', '#0B3750');\r\n        $('body').find('#orderSummary #saderat-span >span, #orderSummary #melat-span >span , #orderSummaryResponsive #res-saderat-span >span, #orderSummaryResponsive #res-melat-span >span').css('color', '#bbbaba');\r\n        var addressId = $('#orderSummary #address-id').val();\r\n        $.ajax({\r\n            url : '/checkout/updateOrder',\r\n            method : 'POST',\r\n            data : {\r\n                bankName : 'parsian',\r\n                addressId : addressId\r\n            },\r\n            success : function (data) {\r\n//                        console.log(data);\r\n            }\r\n        });\r\n\r\n    });\r\n\r\n});"]}