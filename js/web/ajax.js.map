{"version":3,"sources":["ajax.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ajax.js","sourcesContent":["/**\r\n * Created by website on 22/01/2017.\r\n */\r\n\r\n//////////////////create about product///////////////\r\n$('body').on('click', '#craete_about_btn',function (e) {\r\n    e.preventDefault();\r\n    var me = $(this),\r\n        url = me.attr('href'),\r\n        title = me.attr('title');\r\n    $.ajax({\r\n        url : url,\r\n        dataType : 'html',\r\n        success : function (response) {\r\n            $('#create_about_body').html(response);\r\n            $(\".author\").hide();\r\n            $('.translater').hide();\r\n            $('.designer').hide();\r\n            $('.authorCheckBox').bind('change', function () {\r\n\r\n                if ($(this).is(':checked'))\r\n                    $(\".author\").slideDown();\r\n                else\r\n                    $(\".author\").slideUp();\r\n            });\r\n\r\n            $('.translatersCheckBox').bind('change', function () {\r\n\r\n                if ($(this).is(':checked'))\r\n                    $(\".translater\").slideDown();\r\n                else\r\n                    $(\".translater\").slideUp();\r\n            });\r\n\r\n            $('.designerCheckBox').bind('change', function () {\r\n\r\n                if ($(this).is(':checked'))\r\n                    $(\".designer\").slideDown();\r\n                else\r\n                    $(\".designer\").slideUp();\r\n            });\r\n        }\r\n    });\r\n    $('#create_about_modal').modal('show');\r\n\r\n});\r\n$('#about-save-btn').click(function (e) {\r\n    e.preventDefault();\r\n    var form = $('#create_about_modal form'),\r\n        url = form.attr('action'),\r\n        method = 'POST';\r\n    $('body').find('#alert').remove();\r\n    $.ajax({\r\n        url : url,\r\n        method : method,\r\n        data : form.serialize(),\r\n        success : function (response) {\r\n            if(response == 'exist'){\r\n                $('#craete_about_btn').before('<div style=\"text-align: center\" class=\"alert alert-danger alert-dismissible\" id=\"alert\" role=\"alert\">'+\r\n                    '<button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">' +\r\n                    '<span aria-hidden=\"true\">&times;</span></button> متنی با این مشخصات قبلا ثبت شده؛ برای اصلاح اطلاعات میتوانید آن را ویرایش کنید.'\r\n                +'</div>');\r\n                $('#create_about_modal').modal('hide');\r\n            }\r\n            else{\r\n                $('tbody').prepend(response);\r\n                form.trigger('reset');\r\n            }\r\n\r\n        },\r\n        error : function (xhr) {\r\n            console.log(xhr);\r\n        }\r\n    });\r\n\r\n});\r\n//////////////////end create about product/////////////////////////\r\n\r\n\r\n/////////////////////edit about product///////////////////////\r\n$('body').on('click', '#edit_about_btn' , function (e) {\r\n    e.preventDefault();\r\n    var me = $(this),\r\n        url = me.attr('href');\r\n    // console.log(url);\r\n    $.ajax({\r\n        url : url,\r\n        dataType : 'html',\r\n        success : function (response) {\r\n            $('#edit_about_body').html(response);\r\n            // if ($('.authorCheckBox').attr('checked'))\r\n            if ($('#edit_about_modal').find('.authorCheckBox').attr('checked'))\r\n            {\r\n                $(\".author\").show();\r\n            }\r\n            else{\r\n                $(\".author\").hide();\r\n            }\r\n\r\n            // if ($('.translatersCheckBox').attr('checked'))\r\n            if($('#edit_about_modal').find('.translatersCheckBox').attr('checked'))\r\n            {\r\n                $(\".translater\").show();\r\n            }\r\n            else{\r\n                $(\".translater\").hide();\r\n            }\r\n\r\n            if ($('#edit_about_modal').find('.designerCheckBox').attr('checked'))\r\n            {\r\n                $(\".designer\").show();\r\n            }\r\n            else{\r\n                $(\".designer\").hide();\r\n            }\r\n\r\n            $('.authorCheckBox').bind('change', function () {\r\n\r\n                if ($(this).is(':checked'))\r\n                    $(\".author\").slideDown();\r\n                else\r\n                    $(\".author\").slideUp();\r\n            });\r\n\r\n            $('.translatersCheckBox').bind('change', function () {\r\n\r\n                if ($(this).is(':checked'))\r\n                    $(\".translater\").slideDown();\r\n                else\r\n                    $(\".translater\").slideUp();\r\n            });\r\n\r\n            $('.designerCheckBox').bind('change', function () {\r\n\r\n                if ($(this).is(':checked'))\r\n                    $(\".designer\").slideDown();\r\n                else\r\n                    $(\".designer\").slideUp();\r\n            });\r\n        }\r\n    });\r\n    $('#edit_about_modal').modal('show');\r\n});\r\n\r\n$('#about-edit-btn').click(function (e) {\r\n    e.preventDefault();\r\n    var form = $('#edit_about_modal form'),\r\n        url = form.attr('action'),\r\n        // method = $('input[name=_method]').val();\r\n        method = 'PUT';\r\n    console.log(url);\r\n    $.ajax({\r\n        url: url,\r\n        method: method,\r\n        data: form.serialize(),\r\n        success: function (response) {\r\n            // console.log(response);\r\n            location.reload();\r\n        }\r\n    });\r\n});\r\n\r\n\r\n/////////////////////end edit about product///////////////////////\r\n///////////////Delete/////////////////\r\n$('body').on('click','.delete',function (e) {\r\n    e.preventDefault();\r\n\r\n    var url = $(this).attr('href'),\r\n        _token =  $('input[name = _token]').val(),\r\n    type = 'DELETE';\r\n    $('#confirm_modal').modal('show');\r\n    swal({\r\n            title: \"آیا از حذف این مورد اطمینان دارید؟\",\r\n            text: \"توجه داشته باشید که با حذف ؛ امکان برگشت وجود ندارد\",\r\n            type: \"warning\",\r\n            showCancelButton: true,\r\n            confirmButtonColor: \"#DD6B55\",\r\n            confirmButtonText: \"بله !\",\r\n            cancelButtonText: \"خیر\",\r\n            closeOnConfirm: false,\r\n            closeOnCancel: false\r\n        },\r\n        function(isConfirm){\r\n            if (isConfirm) {\r\n                $.ajax({\r\n                    url : url,\r\n                    type : type,\r\n                    data : {\r\n                        _token : _token\r\n                    },\r\n                    success : function (data) {\r\n                        $('.product-'+data.id).fadeOut(function () {\r\n                            $(this).remove();\r\n                        });\r\n                    }\r\n                });\r\n                swal(\"حذف شد!\", \"اطلاعات با موفقیت حذف شد.\", \"success\");\r\n            } else {\r\n                swal(\"کنسل شد!\", \"اطلاعات شما حذف نشد\", \"error\");\r\n            }\r\n        });\r\n});\r\n////////////////End Delete//////////////////////\r\n\r\n///////////////////////Admin Menu////////////////////////////////\r\n$('body').on('click', '#create_menu_btn', function (e) {\r\n    e.preventDefault();\r\n    var me = $(this),\r\n        url = me.attr('href');\r\n    $.ajax({\r\n        url : url,\r\n        dataType : 'html',\r\n        success : function (response) {\r\n            $('#admin_menu_body').html(response);\r\n            $('#sub_menu_panel').hide();\r\n            $('#curent_sub_menu').hide();\r\n        }\r\n    });\r\n    $('#admin_menu_modal').modal('show');\r\n});\r\n$('body').on('click', '#admin_menu-save-btn', function (e) {\r\n    e.preventDefault();\r\n    var form = $('#admin_menu_panel form'),\r\n        url = form.attr('action'),\r\n        method = form.attr('method');\r\n    form.find('.help-block').remove();\r\n    form.find('.form-group').removeClass('has-error');\r\n\r\n    $.ajax({\r\n        url : url,\r\n        method : method,\r\n        data : form.serialize(),\r\n        success : function (response) {\r\n            $('#tbody').prepend(response);\r\n            var id = $('#id').val(),\r\n                title = $('#title_menu').val();\r\n            $('.sidebar-menu').append('<li class=\"treeview\">'+\r\n                '<a href=\"#\"><span>'+title+'</span><i class=\"fa fa-angle-left pull-right\"></i></a>'+\r\n                '<ul class=\"treeview-menu\">'+\r\n                '</ul>'+\r\n                '</li>');\r\n            $('#menu_id').val(id);\r\n            // console.log(id);\r\n\r\n            ////////////////ویرایش منو/////////////////////\r\n            $('#admin_menu-save-btn').text('ویرایش منو')\r\n                .prop('id' , 'admin_menu_update_btn');\r\n            form.prop('action', window.location.href+'/'+id)\r\n                .prop('method', 'PUT');\r\n////////////////ویرایش منو/////////////////////\r\n\r\n            $('#sub_menu_panel').slideDown();\r\n            $('#curent_sub_menu').slideDown();\r\n        },\r\n        error : function (xhr) {\r\n            var errors = xhr.responseJSON;\r\n            if($.isEmptyObject(errors) == false){\r\n                // console.log(errors);\r\n                $.each(errors, function (key , value) {\r\n                    // console.log($('#' + key).closest('.form-group'));\r\n                    $('#' + key)\r\n                        .closest('.form-group')\r\n                        // $('.'+ key)\r\n                        .addClass('has-error')\r\n                        .append('<span class=\"help-block\">'+ value+'</span>')\r\n                })\r\n            }\r\n        }\r\n\r\n    });\r\n});\r\n\r\n$('body').on('click', '#save_sub_menu_btn', function (e) {\r\n    e.preventDefault();\r\n    var me = $(this),\r\n        url = me.attr('href'),\r\n        method = 'POST',\r\n        sub_menu_name = $('#sub_menu_name').val(),\r\n        sub_menu_link = $('#sub_menu_link').val(),\r\n        id = $('#menu_id').val(),\r\n        save_sub_menu_btn = $('#save_sub_menu_btn'),\r\n        form = $('#admin_menu_panel form'),\r\n        title = $('#title').val();\r\n    form.find('.help-block').remove();\r\n    form.find('.form-group').removeClass('has-error');\r\n    $.ajax({\r\n        url : url,\r\n        method : method,\r\n        data : {'sub_menu_name' : sub_menu_name, 'sub_menu_link' : sub_menu_link, 'id' : id},\r\n        success : function (response) {\r\n            $('#sub_menu_tbody').prepend(response);\r\n            $('.treeview-menu').append('<li><a href=\"'+sub_menu_link+'\"><span>'+sub_menu_name+'</span></a></li>');\r\n            $('#sub_menu_name').val('');\r\n            $('#sub_menu_link').val('');\r\n\r\n        },\r\n        error : function (xhr) {\r\n            var errors = xhr.responseJSON;\r\n            if($.isEmptyObject(errors) == false){\r\n                // console.log(errors);\r\n                $.each(errors, function (key , value) {\r\n                    // console.log($('#' + key).closest('.form-group'));\r\n                    $('#' + key)\r\n                        .closest('.form-group')\r\n                        // $('.'+ key)\r\n                        .addClass('has-error')\r\n                        .append('<span class=\"help-block\">'+ value+'</span>')\r\n                })\r\n            }\r\n        }\r\n    });\r\n\r\n});\r\n\r\n$('body').on('click', '#admin_menu_update_btn', function (e) {\r\n    e.preventDefault();\r\n    var form = $('#admin_menu_panel form'),\r\n        url = form.attr('action'),\r\n        method = form.attr('method'),\r\n        // _token =  $('input[name = _token]').val(),\r\n        title = $('#title').val(),\r\n        // id = $('#id').val();\r\n        id = $('#menu_id').val();\r\n    // console.log(url);\r\n    $.ajax({\r\n        url : url,\r\n        method : method,\r\n        data : {'id' : id, 'title' : title},\r\n        success : function (response) {\r\n            // console.log(response);\r\n            $('.product-' +id).replaceWith(response);\r\n        }\r\n    });\r\n\r\n});\r\n\r\n////////////////////////edit admin menu/////////////////////////////\r\n\r\n$('body').on('click', '#edit_admin_menu_btn', function (e) {\r\n    e.preventDefault();\r\n    var me = $(this),\r\n        url = me.attr('href'),\r\n        id = $('#menu_id').val();\r\n    // console.log(id);\r\n    $.ajax({\r\n        url : url,\r\n        dataType : 'html',\r\n        success : function (response) {\r\n            $('#admin_menu_body').html(response);\r\n        }\r\n    });\r\n    $('#admin_menu_modal').modal('show');\r\n});\r\n////////////////////////end edit admin menu/////////////////////////////\r\n\r\n// $('body').on('click', '#admin_menu_update_btn', function (e) {\r\n//     'test'\r\n//     e.preventDefault();\r\n//     var form = $('#admin_menu_panel form'),\r\n//         url = form.attr('action'),\r\n//         method = form.attr('method'),\r\n//         // _token =  $('input[name = _token]').val(),\r\n//         title = $('#title').val();\r\n//     $.ajax({\r\n//         url : url,\r\n//         method : method,\r\n//         data : {'title' : title},\r\n//     });\r\n//\r\n// });\r\n\r\n$('body').on('click', '#update_sub_menu_btn', function (e) {\r\n    e.preventDefault();\r\n    var me = $(this),\r\n        url = me.attr('href'),\r\n        id = $('#sub_menu_id').val(),\r\n        method = 'PUT';\r\n    $.ajax({\r\n        url : url,\r\n        method : method,\r\n        data : {'id' : $('#sub_menu_id').val(), 'sub_menu_name' : $('#sub_menu_name').val(), 'sub_menu_link' : $('#sub_menu_link').val()},\r\n        success : function (response) {\r\n            $('#sub_menu_name').val('');\r\n            $('#sub_menu_link').val('');\r\n            $('#update_sub_menu_btn').text('ثبت زیر منو ی جدید')\r\n                .prop('title', 'ثبت زیر منو')\r\n                .prop('href', window.location.href+'/storeSubMenu')\r\n                .prop('id', 'save_sub_menu_btn');\r\n            // $('.product-' +$('#sub_menu_id').val()).replaceWith(response);\r\n            $('#admin_menu_modal').find('.product-' +$('#sub_menu_id').val()).replaceWith(response);\r\n        }\r\n    });\r\n});\r\n\r\n$('body').on('click', '#edit_admin_sub_menu', function (e) {\r\n    e.preventDefault();\r\n    var me = $(this),\r\n        url = me.attr('href');\r\n     // console.log(url);\r\n    $.ajax({\r\n        url : url,\r\n        method: 'POST',\r\n        dataType : 'html',\r\n        success  : function(response){\r\n            var data = JSON.parse(response);\r\n            $('#sub_menu_name').val(data.title);\r\n            $('#sub_menu_link').val(data.link);\r\n            $('#sub_menu_id').val(data.id),\r\n            save_sub_menu_btn = $('#save_sub_menu_btn');\r\n            save_sub_menu_btn.text('ویرایش زیر منو')\r\n                .prop('title', 'ویرایش زیر منو')\r\n                .prop('href', window.location.href+'/updateSubMenu/'+data.id)\r\n                .prop('id', 'update_sub_menu_btn');\r\n        }\r\n    });\r\n});\r\n\r\n///////////////////////End Admin Menu////////////////////////////\r\n\r\n\r\n//////////////////////Account Edit///////////////////////////////\r\n$('#password-confirm-btn').click(function (e) {\r\n    e.preventDefault();\r\n    var form = $('#password-panel-body form'),\r\n        url = form.attr('action'),\r\n        method = 'POST';\r\n    form.find('.help-block').remove();\r\n    // console.log(url);\r\n    // console.log(method);\r\n    form.find('.form-group').removeClass('has-error');\r\n    $.ajax({\r\n        url : url,\r\n        method : method,\r\n        data : form.serialize(),\r\n        success : function (data) {\r\n            // console.log(data);\r\n            $('#confirm-password-panel').replaceWith(data);\r\n        },\r\n        error : function (xhr) {\r\n            var errors = xhr.responseJSON;\r\n            if($.isEmptyObject(errors) == false){\r\n                // console.log(errors);\r\n                $.each(errors, function (key , value) {\r\n                    // console.log(key);\r\n                    // console.log(value);\r\n                    $('#' + key)\r\n                        .closest('.form-group')\r\n                        .addClass('has-error')\r\n                        .append('<span class=\"help-block\">'+ value+'</span>')\r\n                })\r\n            }\r\n        }\r\n    });\r\n});\r\n\r\n// $('#edit-account-btn').click(function (e) {\r\n$('body').on('click', '#edit-account-btn',function (e) {\r\n// $('body').find('#edit-account-btn').click(function (e) {\r\n    e.preventDefault();\r\n    var form = $('.account-edit form'),\r\n        url = form.attr('action'),\r\n        method = form.attr('method');\r\n    form.find('.help-block').remove();\r\n    form.find('.form-group').removeClass('has-error');\r\n    form.find('.message #success-message').remove();\r\n    $.ajax({\r\n        url : url,\r\n        method : method,\r\n        data : form.serialize(),\r\n        success : function (response) {\r\n            $('#current-email').text(response.email);\r\n            $('#email').val('');\r\n            $('#email_confirmation').val('');\r\n            $('#password').val('');\r\n            $('.message').html('<div id=\"success-message\" style=\"text-align: center;font-size: 15px;\" class=\"alert alert-success alert-dismissible\" role=\"alert\">'+\r\n                '<button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button>اطلاعات با موفقیت ویرایش شد.'+\r\n            '</div>');\r\n        },\r\n        error : function (xhr) {\r\n            var errors = xhr.responseJSON;\r\n            if($.isEmptyObject(errors) == false){\r\n                // console.log(errors);\r\n                $.each(errors, function (key , value) {\r\n                    // console.log(key);\r\n                    // console.log(value);\r\n                    // console.log($('#' + key).closest('.form-group'));\r\n                    $('#' + key)\r\n                        .closest('.form-group')\r\n                        .addClass('has-error')\r\n                        .append('<span class=\"help-block\">'+ value+'</span>')\r\n                })\r\n            }\r\n        }\r\n    });\r\n});\r\n//////////////////////End Account Edit///////////////////////////////\r\n\r\n\r\n\r\n\r\n\r\n\r\n//# sourceMappingURL=ajax.js.map\r\n"]}